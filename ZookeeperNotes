Zookeeper Basics
1. Recipes: implementation of primitives.

2. znodes: small data nodes, they are organized hierarchically as a tree. just like a file system.
  2.1 The absence of data often conveys important information about a znode.
  2.2 /workers znode, parent znode to all znodes representing a worker available in the system
  2.3 /tasks znode, is the parent of all tasks created and waiting for workers to execute them.
  2.4 /assign znode is the parent of all znodes representing an assignment of a task to a worker.

3. znode mode options:
  3.1 persistent
  3.2 ephemeral
  3.3 persistent_sequential
  3.4 ephemeral_sequential

4. For the quorum of servers, we should always shoot for an odd number,
   It this way can we tolerate more crashes of servers

5. My Zookeeper's installation directory
   /usr/local/Cellar/zookeeper/3.4.9/bin

6. Client: add tasks to the system
   Once the task znode is created, the master observes the event
   The master next checks the new task, get a list of available workers, and assign assignments to workers

7. Herd Effect and the scalability of watches
    When possible, we recommend avoiding such a use of ZooKeeper
    in which a large number of clients watch for a change to a given znode.

8. it is not always possible to handle failures based on the component in which they occur

9. Rather than trying to determine cause of failures,
   Zookeeper exposes two classes of failures: recoverable and unrecoverable
   9.1 recoverable, which are transient and should be considered relatively normal, e.g. network hiccups, server failures

   9.2 unrecoverable, the easiest and most common way to deal with this kind of failure is to exit the application.
                      e.g. session timeout, authentication failures, network outages for longer than the session timeout

10. you should try to avoid watching for the creation event of a znode.

11. careful monitoring of system load can help detect possibly problematic situations.
   well-designed multithreaded applications can avoid inducing overloads,
   clock synchronization programs can keep system clocks in sync

12. Access right must be set every time a znode is created,
    it does not inherit the access permissions from its parent

13. SASL (Simple Authentication and Security Layer) and Kerberos
  13.1 SASL
       It is a framework that abstracts the underlying system of authentication so that applications that use SASL can use any of the various protocols supported by SASL.
  13.2 Kerberos
       with respect to Zookeeper,
       SASL usually uses Kerbeross,
       which is an authentication protocol.
       SASL uses sasl for its scheme name and the id is the Kerberos ID of the client

14. When a znode is deleted and re-created, its version number is reset (means identical to before deletion).
    An application that tries to make version check after a znode is re-created might fall into this trap

15. If clients of an application communicate only by reading and writing to ZooKeeper,
    the application shouldn't worry about sync.
    sync exists because communication outside ZooKeeper may lead to a problem often referred to as a "hidden channel"

16. Order with the Synchronous API and Multiple Threads
     Zookeeper will deliver the responses in order,
     but it is possible that due to thread scheduling,
     the result of an operation submitted will be processed first.

17. In general, it is not a good idea to mix synchronous and asynchronous calls.

18.
